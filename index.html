<!DOCTYPE html>
<html>
<head>
    <title>Student Management Form</title>
    <style>
        body{
            font-family: Arial;
            margin:0;
            background: linear-gradient(to right,#3a7bd5,#7b4397);
        }

        h1{
            text-align:center;
            color:white;
            padding:20px;
        }

        .container{
            width:95%;
            margin:auto;
            display:flex;
            gap:20px;
        }

        .form-box, .table-box{
            background:white;
            padding:20px;
            border-radius:10px;
        }

        .form-box{
            width:35%;
        }

        .table-box{
            width:65%;
        }

        input, select{
            width:100%;
            padding:8px;
            margin:6px 0;
        }

        button{
            width:100%;
            padding:10px;
            background:#3a7bd5;
            color:white;
            border:none;
            cursor:pointer;
            margin-top:10px;
        }

        table{
            width:100%;
            border-collapse:collapse;
        }

        table, th, td{
            border:1px solid #ddd;
        }

        th, td{
            padding:8px;
            text-align:center;
        }

        th{
            background:#3a7bd5;
            color:white;
        }

        img{
            width:50px;
            height:50px;
            object-fit:cover;
            border-radius:50%;
        }

        .search-box{
            margin-bottom:10px;
        }

        .action-btn{
            padding:5px 10px;
            text-decoration:none;
            color:white;
            border-radius:5px;
        }

        .edit{
            background:green;
        }

        .delete{
            background:red;
        }

    </style>
</head>
<body>

<h1>Student Management Form</h1>

<div class="container">

    <!-- LEFT FORM -->
    <div class="form-box">
        <h2>Add Student</h2>
        <form method="POST" enctype="multipart/form-data">
            <input type="text" name="fname" placeholder="First Name" required>
            <input type="text" name="lname" placeholder="Last Name" required>
            <input type="email" name="email" placeholder="Email" required>

            <select name="gender" required>
                <option value="">Select Gender</option>
                <option>Male</option>
                <option>Female</option>
                <option>Other</option>
            </select>

            <input type="date" name="dob" required>
            <input type="text" name="course" placeholder="Course" required>
            <input type="file" name="photo">

            <button type="submit">Save Student</button>
        </form>
    </div>

    <!-- RIGHT TABLE -->
    <div class="table-box">

        <div class="search-box">
            <form method="GET">
                <input type="text" name="search" placeholder="Search by name or email">
            </form>
        </div>

        <table>
            <tr>
                <th>#</th>
                <th>Name</th>
                <th>Email</th>
                <th>Gender</th>
                <th>DOB</th>
                <th>Course</th>
                <th>Photo</th>
                <th>Action</th>
            </tr>

            {% for student in students %}
            <tr>
                <td>{{ loop.index }}</td>
                <td>{{ student[1] }} {{ student[2] }}</td>
                <td>{{ student[3] }}</td>
                <td>{{ student[4] }}</td>
                <td>{{ student[5] }}</td>
                <td>{{ student[6] }}</td>

                <td>
                    {% if student[7] %}
                        <img src="{{ url_for('static', filename='uploads/' + student[7]) }}">
                    {% else %}
                        No Photo
                    {% endif %}
                </td>

                <td>
                    <a class="action-btn edit" href="{{ url_for('edit', id=student[0]) }}">Edit</a>
                    <a class="action-btn delete" href="{{ url_for('delete', id=student[0]) }}">Delete</a>
                </td>
            </tr>
            {% endfor %}

        </table>
    </div>

</div>

</body>
</html>